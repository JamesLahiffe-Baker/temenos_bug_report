{% extends "base.html" %}
{% block content %}
<h2>Manage Users</h2>
<table>
    <tr>
        <th>ID</th>
        <th>Username</th>
        <th>Email</th>
        <th>Role</th>
        <th>Action</th>
    </tr>
    {% for u in users %}
    <tr>
        <td>{{ u.user_id }}</td>
        <td>{{ u.username }}</td>
        <td>{{ u.email }}</td>
        <td>{{ u.role }}</td>
        <td>
            {% if u.role != 'admin' %}
            <div class="button-pair">
                <form method="post" action="/make_admin/{{ u.user_id }}">
                    <button class="make-admin-button">Make Admin</button>
                </form>
                <form method="post" action="/delete_user/{{ u.user_id }}" onsubmit="return confirm('Are you sure?');">
                    <button class="delete-button">Delete</button>
                </form>
            </div>
            {% else %}
            <em>Admin</em>
            {% endif %}
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
